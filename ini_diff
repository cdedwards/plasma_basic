*** ../plasmag540/plasmag540.ini	2020-07-22 18:32:18.304276937 -0600
--- plasma.ini	2020-07-23 18:11:40.953022340 -0600
***************
*** 1,113 ****
  
! # this section only reqired if using the sim testing panel
! # [APPLICATIONS]
! # DELAY                   = 3
! # APP                     = ./plasmac/test/plasmac_test.py
! 
! # required
! [PLASMAC]
! 
! # required for upgrades (DO NOT CHANGE)
! LAST_MAJOR_UPGRADE      = 0.140
! 
! # sets the operating mode, if not specified the default is 0
! # 0 = use arc-voltage-in for arcOK and THC (no need to connect arc-ok-in, move-up-in and move-down-in)
! # 1 = use arc-ok-in for arcOK and arc-voltage-in for THC (no need to connect move-up-in and move-down-in)
! # 2 = use arc-ok-in for arcOK and move-down-in + move-up-in for THC (no need to connect arc-voltage-in)
! MODE = 0
! 
! # enable(0) or disable(1) the plasmac config page, if not specified the default is enabled
! CONFIG_DISABLE          = 0
! 
! # percentage of cut-feed-rate used for paused motion speed
! PAUSED_MOTION_SPEED     = 50
! 
! # torch on time when manual pulse requested
! TORCH_PULSE_TIME        = 1.0
! 
! # for Powermax communications
! #PM_PORT                 = /dev/ttyUSB0
! 
! # for the four user buttons in the main window
! BUTTON_1_NAME           = Ohmic Test
! BUTTON_1_CODE           = ohmic-test
! BUTTON_2_NAME           = Probe Test
! BUTTON_2_CODE           = probe-test 30
! BUTTON_3_NAME           = Change Consumables
! BUTTON_3_CODE           = change-consumables X0 F160
! BUTTON_4_NAME           = Pierce & Cut
! BUTTON_4_CODE           = cut-type
! 
! # for the ten user buttons in the Extras panel
! BUTTON_10_NAME           = 
! BUTTON_10_CODE           = 
! BUTTON_10_IMAGE          = 
! BUTTON_11_NAME           = 
! BUTTON_11_CODE           = 
! BUTTON_11_IMAGE          = 
! BUTTON_12_NAME           = 
! BUTTON_12_CODE           = 
! BUTTON_12_IMAGE          = 
! BUTTON_13_NAME           = 
! BUTTON_13_CODE           = 
! BUTTON_13_IMAGE          = 
! BUTTON_14_NAME           = PlasmaC\User Guide
! BUTTON_14_CODE           = %xdg-open http://linuxcnc.org/docs/devel/html/plasma/plasmac-user-guide.html
! BUTTON_14_IMAGE          = 
! BUTTON_15_NAME           = 
! BUTTON_15_CODE           = 
! BUTTON_15_IMAGE          = 
! BUTTON_16_NAME           = 
! BUTTON_16_CODE           = 
! BUTTON_16_IMAGE          = 
! BUTTON_17_NAME           = 
! BUTTON_17_CODE           = 
! BUTTON_17_IMAGE          = 
! BUTTON_18_NAME           = 
! BUTTON_18_CODE           = 
! BUTTON_18_IMAGE          = 
! BUTTON_19_NAME           = LinuxCNC\Docs
! BUTTON_19_CODE           = %xdg-open http://linuxcnc.org/docs/devel/html
! BUTTON_19_IMAGE          = 
! 
! # this section required as is for removing z axis moves from the loaded gcode file
! # this is optional and if used then plasmac_gcode.py needs to be set as executable
! [FILTER]
! PROGRAM_EXTENSION       = .ngc remove z axis stuff
! ngc                     = ./plasmac/plasmac_gcode.py
! nc                      = ./plasmac/plasmac_gcode.py
! tap                     = ./plasmac/plasmac_gcode.py
! 
! [RS274NGC]
! 
! RS274NGC_STARTUP_CODE   = o<imperial_startup> call
! PARAMETER_FILE          = imperial_parameters.txt
! 
! # required, ./ must be in this path
! SUBROUTINE_PATH         = ./:./plasmac:../../nc_files/subroutines
! 
! # required for reading ini and hal variables
! FEATURES                = 12
! 
! # required for our material change
! USER_M_PATH = ./:./plasmac
! 
! [HAL]
! # required
! TWOPASS = ON
! # the base machine
! HALFILE = plasmag540.hal
! # the plasmac component connections
! HALFILE = ./plasmac/plasmac.tcl
! # the plasmac machine connections
! HALFILE = plasmag540_connections.hal
! # use this for customisation after GUI has loaded
! POSTGUI_HALFILE = postgui.hal
! # required
! HALUI = halui
  
  [DISPLAY]
  DISPLAY = gmoccapy
  POSITION_OFFSET = RELATIVE
  POSITION_FEEDBACK = ACTUAL
  MAX_FEED_OVERRIDE = 2.000000
--- 1,18 ----
+ # Generated by PNCconf at Thu Jul 23 18:11:40 2020
+ # Using LinuxCNC version:  2.9.0~pre0
+ # If you make changes to this file, they will be
+ # overwritten when you run PNCconf again
  
! [EMC]
! MACHINE = plasma
! DEBUG = 0
! VERSION = 1.1
  
  [DISPLAY]
  DISPLAY = gmoccapy
+ EMBED_TAB_NAME = Right Panel
+ EMBED_TAB_LOCATION = box_right
+ EMBED_TAB_COMMAND = gladevcp -c gladevcp  -t BlackMATE -H gvcp_call_list.hal -x {XID} gvcp-panel.ui
  POSITION_OFFSET = RELATIVE
  POSITION_FEEDBACK = ACTUAL
  MAX_FEED_OVERRIDE = 2.000000
***************
*** 116,122 ****
  INTRO_GRAPHIC = linuxcnc.gif
  INTRO_TIME = 5
  PROGRAM_PREFIX = /home/colten/linuxcnc/nc_files
! INCREMENTS = .25in .05in .005in .001in
  POSITION_FEEDBACK = ACTUAL
  DEFAULT_LINEAR_VELOCITY = 0.250000
  MAX_LINEAR_VELOCITY = 1.000000
--- 21,27 ----
  INTRO_GRAPHIC = linuxcnc.gif
  INTRO_TIME = 5
  PROGRAM_PREFIX = /home/colten/linuxcnc/nc_files
! INCREMENTS = .1in .05in .01in .005in .001in .0005in .0001in
  POSITION_FEEDBACK = ACTUAL
  DEFAULT_LINEAR_VELOCITY = 0.250000
  MAX_LINEAR_VELOCITY = 1.000000
***************
*** 127,180 ****
  EDITOR = gedit
  GEOMETRY = xyz
  
! # required
! EMBED_TAB_NAME          = plasmac_buttons
! EMBED_TAB_LOCATION      = box_cooling
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_buttons -x {XID} -u ./plasmac/plasmac_buttons.py -H ./plasmac/plasmac_buttons.hal ./plasmac/plasmac_buttons.glade
! EMBED_TAB_NAME          = plasmac_control
! EMBED_TAB_LOCATION      = box_spindle
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_control -x {XID} -u ./plasmac/plasmac_control.py -H ./plasmac/plasmac_control.hal ./plasmac/plasmac_control.glade
! EMBED_TAB_NAME          = Statistics
! EMBED_TAB_LOCATION      = ntb_preview
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_stats -x {XID} -u ./plasmac/plasmac_stats.py -H ./plasmac/plasmac_stats.hal ./plasmac/plasmac_stats.glade
! 
! EMBED_TAB_NAME          = Run
! # use one of the next two
! # run panel in tab behind preview
! EMBED_TAB_LOCATION      = ntb_preview
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_run -x {XID} -u ./plasmac/plasmac_run.py -H ./plasmac/plasmac_run.hal ./plasmac/plasmac_run_tab.glade
! # run panel in panel on left side
! #EMBED_TAB_LOCATION      = box_left
! #EMBED_TAB_COMMAND       = gladevcp -c plasmac_run -x {XID} -u ./plasmac/plasmac_run.py -H ./plasmac/plasmac_run.hal ./plasmac/plasmac_run_panel.glade
! 
! EMBED_TAB_NAME          = Config
! EMBED_TAB_LOCATION      = ntb_preview
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_config -x {XID} -u ./plasmac/plasmac_config.py -H ./plasmac/plasmac_config.hal ./plasmac/plasmac_config.glade
! EMBED_TAB_NAME          = plasmac_monitor
! EMBED_TAB_LOCATION      = box_tool_and_code_info
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_monitor -x {XID} -u ./plasmac/plasmac_monitor.py -H ./plasmac/plasmac_monitor.hal ./plasmac/plasmac_monitor.glade
! 
! EMBED_TAB_NAME          = Extras
! EMBED_TAB_LOCATION      = ntb_preview
! EMBED_TAB_COMMAND       = gladevcp -c plasmac_wizards -x {XID} -u ./plasmac/plasmac_wizards.py ./plasmac/plasmac_wizards.glade
! 
! [EMC]
! MACHINE = PlasmaG540
! DEBUG = 0
! VERSION = 1.1
  
  [TASK]
  TASK = milltask
  CYCLE_TIME = 0.010
  
  [EMCMOT]
  EMCMOT = motmod
  COMM_TIMEOUT = 1.0
  SERVO_PERIOD = 1000000
! BASE_PERIOD = 35000
  [HMOT]
  CARD0=hm2_7i92.0
  
  [HALUI]
  MDI_COMMAND = G10 L20 P0 X0 ( Set X to zero )
  MDI_COMMAND = G10 L20 P0 Y0 ( Set Y to zero )
--- 32,67 ----
  EDITOR = gedit
  GEOMETRY = xyz
  
! [FILTER]
! PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
! PROGRAM_EXTENSION = .py Python Script
! png = image-to-gcode
! gif = image-to-gcode
! jpg = image-to-gcode
! py = python
  
  [TASK]
  TASK = milltask
  CYCLE_TIME = 0.010
  
+ [RS274NGC]
+ PARAMETER_FILE = linuxcnc.var
+ 
  [EMCMOT]
  EMCMOT = motmod
  COMM_TIMEOUT = 1.0
  SERVO_PERIOD = 1000000
! 
  [HMOT]
  CARD0=hm2_7i92.0
  
+ [HAL]
+ HALUI = halui
+ HALFILE = plasma.hal
+ HALFILE = custom.hal
+ POSTGUI_HALFILE = postgui_call_list.hal
+ SHUTDOWN = shutdown.hal
+ 
  [HALUI]
  MDI_COMMAND = G10 L20 P0 X0 ( Set X to zero )
  MDI_COMMAND = G10 L20 P0 Y0 ( Set Y to zero )
***************
*** 185,196 ****
  KINEMATICS = trivkins coordinates=XYYZ kinstype=BOTH
  
  [TRAJ]
- SPINDLES = 3
  COORDINATES =  XYYZ
  LINEAR_UNITS = inch
  ANGULAR_UNITS = degree
! DEFAULT_LINEAR_VELOCITY = 0.10
! MAX_LINEAR_VELOCITY = 1.00
  
  [EMCIO]
  EMCIO = io
--- 72,82 ----
  KINEMATICS = trivkins coordinates=XYYZ kinstype=BOTH
  
  [TRAJ]
  COORDINATES =  XYYZ
  LINEAR_UNITS = inch
  ANGULAR_UNITS = degree
! DEFAULT_LINEAR_VELOCITY = 0.17
! MAX_LINEAR_VELOCITY = 1.67
  
  [EMCIO]
  EMCIO = io
***************
*** 199,224 ****
  
  #******************************************
  [AXIS_X]
! # set to double the value in the corresponding joint
! MAX_VELOCITY = 1.666667
! # set to double the value in the corresponding joint
  MAX_ACCELERATION = 30.0
- # shares the above two equally between the joint and the offset
- OFFSET_AV_RATIO = 0.5
  MIN_LIMIT = -0.001
! MAX_LIMIT = 48.0
  
  [JOINT_0]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.66667
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
  STEPGEN_MAXVEL = 2.08
! STEPGEN_MAXACCEL = 37.5
  P = 1000.0
  I = 0.0
  D = 0.0
--- 85,106 ----
  
  #******************************************
  [AXIS_X]
! MAX_VELOCITY = 1.66666666667
  MAX_ACCELERATION = 30.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 8.0
  
  [JOINT_0]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.66666666667
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
  STEPGEN_MAXVEL = 2.08
! STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
  D = 0.0
***************
*** 229,271 ****
  DEADBAND = 0.0
  MAX_OUTPUT = 0.0
  # these are in nanoseconds
! DIRSETUP   = 100
! DIRHOLD    = 100
! STEPLEN    = 2000
! STEPSPACE  = 2000
  STEP_SCALE = 2000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 48.0
! HOME_OFFSET = 0.500000
! HOME_SEARCH_VEL = -0.050000
! HOME_LATCH_VEL = -0.016667
! HOME_FINAL_VEL = 0.000000
! HOME_USE_INDEX = NO
! HOME_IGNORE_LIMITS = YES
! HOME_SEQUENCE = 1
  #******************************************
  
  #******************************************
  [AXIS_Y]
! # set to double the value in the corresponding joint
! MAX_VELOCITY = 2.0
! # set to double the value in the corresponding joint
! MAX_ACCELERATION = 60.0
! # shares the above two equally between the joint and the offset
! OFFSET_AV_RATIO = 0.5
  MIN_LIMIT = -0.001
! MAX_LIMIT = 48.0
  
  [JOINT_1]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.0
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 1.25
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
--- 111,143 ----
  DEADBAND = 0.0
  MAX_OUTPUT = 0.0
  # these are in nanoseconds
! DIRSETUP   = 10000
! DIRHOLD    = 10000
! STEPLEN    = 5000
! STEPSPACE  = 5000
  STEP_SCALE = 2000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 8.0
! HOME_OFFSET = 0.0
  #******************************************
  
  #******************************************
  [AXIS_Y]
! MAX_VELOCITY = 1.66666666667
! MAX_ACCELERATION = 30.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 8.0
  
  [JOINT_1]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.66666666667
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 2.08
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
***************
*** 279,307 ****
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 8000
  STEPSPACE  = 5000
! STEP_SCALE = 20000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 48.0
! HOME_OFFSET = 0.500000
! HOME_SEARCH_VEL = -0.050000
! HOME_LATCH_VEL = -0.016667
! HOME_FINAL_VEL = 0.000000
! HOME_USE_INDEX = NO
! HOME_IGNORE_LIMITS = YES
! HOME_SEQUENCE = -2
  
  [JOINT_2]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.0
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 1.25
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
--- 151,173 ----
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 5000
  STEPSPACE  = 5000
! STEP_SCALE = 2000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 8.0
! HOME_OFFSET = 0.0
  
  [JOINT_2]
  TYPE = LINEAR
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.66666666667
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 2.08
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
***************
*** 315,343 ****
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 8000
  STEPSPACE  = 5000
! STEP_SCALE = 20000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 48.0
! HOME_OFFSET = 0.500000
! HOME_SEARCH_VEL = -0.050000
! HOME_LATCH_VEL = -0.016667
! HOME_FINAL_VEL = 0.000000
! HOME_USE_INDEX = NO
! HOME_IGNORE_LIMITS = YES
! HOME_SEQUENCE = -2
  #******************************************
  
  #******************************************
  [AXIS_Z]
! # set to double the value in the corresponding joint
! MAX_VELOCITY = 2.0
! # set to double the value in the corresponding joint
! MAX_ACCELERATION = 60.0
! # shares the above two equally between the joint and the offset
! OFFSET_AV_RATIO = 0.5
! MIN_LIMIT = -8.0
  MAX_LIMIT = 0.001
  
  [JOINT_3]
--- 181,199 ----
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 5000
  STEPSPACE  = 5000
! STEP_SCALE = 2000.0
  MIN_LIMIT = -0.001
! MAX_LIMIT = 8.0
! HOME_OFFSET = 0.0
  #******************************************
  
  #******************************************
  [AXIS_Z]
! MAX_VELOCITY = 1.66666666667
! MAX_ACCELERATION = 30.0
! MIN_LIMIT = -4.0
  MAX_LIMIT = 0.001
  
  [JOINT_3]
***************
*** 345,355 ****
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.0
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 1.25
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
--- 201,211 ----
  HOME = 0.0
  FERROR = 0.5
  MIN_FERROR = 0.05
! MAX_VELOCITY = 1.66666666667
  MAX_ACCELERATION = 30.0
  # The values below should be 25% larger than MAX_VELOCITY and MAX_ACCELERATION
  # If using BACKLASH compensation STEPGEN_MAXACCEL should be 100% larger.
! STEPGEN_MAXVEL = 2.08
  STEPGEN_MAXACCEL = 37.50
  P = 1000.0
  I = 0.0
***************
*** 363,378 ****
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 8000
  STEPSPACE  = 5000
! STEP_SCALE = 20000.0
! MIN_LIMIT = -8.0
  MAX_LIMIT = 0.001
! HOME_OFFSET = 0.250000
  HOME_SEARCH_VEL = 0.050000
  HOME_LATCH_VEL = 0.016667
  HOME_FINAL_VEL = 0.000000
  HOME_USE_INDEX = NO
  HOME_IGNORE_LIMITS = YES
- HOME_SEQUENCE = 0
  #******************************************
--- 219,233 ----
  # these are in nanoseconds
  DIRSETUP   = 10000
  DIRHOLD    = 10000
! STEPLEN    = 5000
  STEPSPACE  = 5000
! STEP_SCALE = 2000.0
! MIN_LIMIT = -4.0
  MAX_LIMIT = 0.001
! HOME_OFFSET = 0.000000
  HOME_SEARCH_VEL = 0.050000
  HOME_LATCH_VEL = 0.016667
  HOME_FINAL_VEL = 0.000000
  HOME_USE_INDEX = NO
  HOME_IGNORE_LIMITS = YES
  #******************************************
